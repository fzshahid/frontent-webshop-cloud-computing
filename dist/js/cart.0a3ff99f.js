"use strict";(self["webpackChunkvue3_boilerplate"]=self["webpackChunkvue3_boilerplate"]||[]).push([[949],{925:function(e,a,l){l.r(a),l.d(a,{default:function(){return f}});var t=l(7829),d=l(9608);const u=e=>((0,t.Qi)("data-v-403322db"),e=e(),(0,t.jt)(),e),n={key:0},i={class:"mx-4 font-weight-medium"},r=u((()=>(0,t.Lk)("span",null,"Total:",-1)));function o(e,a,l,u,o,c){const s=(0,t.g2)("v-card-title"),m=(0,t.g2)("v-divider"),v=(0,t.g2)("v-img"),b=(0,t.g2)("v-col"),k=(0,t.g2)("v-card-subtitle"),f=(0,t.g2)("v-icon"),p=(0,t.g2)("v-btn"),g=(0,t.g2)("v-card-text"),y=(0,t.g2)("v-row"),_=(0,t.g2)("v-card"),F=(0,t.g2)("v-text-field"),h=(0,t.g2)("v-radio"),C=(0,t.g2)("v-radio-group"),x=(0,t.g2)("v-card-actions"),W=(0,t.g2)("v-container");return(0,t.uX)(),(0,t.Wv)(W,null,{default:(0,t.k6)((()=>[(0,t.bF)(y,null,{default:(0,t.k6)((()=>[(0,t.bF)(b,{cols:"12",md:"8",class:"mx-auto"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{class:"pa-4"},{default:(0,t.k6)((()=>[(0,t.bF)(s,null,{default:(0,t.k6)((()=>[(0,t.eW)("Your Cart")])),_:1}),(0,t.bF)(m),e.cart.length?((0,t.uX)(),(0,t.CE)("div",n,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.cart,(a=>((0,t.uX)(),(0,t.Wv)(y,{key:a.id,class:"mb-4"},{default:(0,t.k6)((()=>[(0,t.bF)(b,{cols:"12"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{outlined:""},{default:(0,t.k6)((()=>[(0,t.bF)(y,{"no-gutters":""},{default:(0,t.k6)((()=>[(0,t.bF)(b,{cols:"4"},{default:(0,t.k6)((()=>[(0,t.bF)(v,{src:a.image,height:"100px",cover:""},null,8,["src"])])),_:2},1024),(0,t.bF)(b,{cols:"8"},{default:(0,t.k6)((()=>[(0,t.bF)(s,{class:"text-left"},{default:(0,t.k6)((()=>[(0,t.eW)((0,d.v_)(a.name),1)])),_:2},1024),(0,t.bF)(k,{class:"text-left font-weight-bold"},{default:(0,t.k6)((()=>[(0,t.eW)("$"+(0,d.v_)(a.price.toFixed(2)),1)])),_:2},1024),(0,t.bF)(g,{class:"d-flex align-center"},{default:(0,t.k6)((()=>[(0,t.bF)(p,{density:"compact",icon:"",onClick:l=>e.decrementQuantity(a)},{default:(0,t.k6)((()=>[(0,t.bF)(f,null,{default:(0,t.k6)((()=>[(0,t.eW)("mdi-minus")])),_:1})])),_:2},1032,["onClick"]),(0,t.Lk)("span",i,(0,d.v_)(a.quantity),1),(0,t.bF)(p,{density:"compact",icon:"",onClick:l=>e.incrementQuantity(a)},{default:(0,t.k6)((()=>[(0,t.bF)(f,null,{default:(0,t.k6)((()=>[(0,t.eW)("mdi-plus")])),_:1})])),_:2},1032,["onClick"]),(0,t.bF)(p,{density:"compact",icon:"",class:"ml-auto",onClick:l=>e.removeItem(a)},{default:(0,t.k6)((()=>[(0,t.bF)(f,{color:"red"},{default:(0,t.k6)((()=>[(0,t.eW)("mdi-delete")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,t.bF)(m),e.cart.length?((0,t.uX)(),(0,t.Wv)(g,{key:0,class:"d-flex justify-space-between text-h6"},{default:(0,t.k6)((()=>[r,(0,t.Lk)("span",null,"$"+(0,d.v_)(e.totalPrice.toFixed(2)),1)])),_:1})):((0,t.uX)(),(0,t.Wv)(g,{key:1,class:"text-center"},{default:(0,t.k6)((()=>[(0,t.eW)("Your cart is empty.")])),_:1}))])):(0,t.Q3)("",!0),(0,t.bF)(m),(0,t.bF)(F,{modelValue:e.address,"onUpdate:modelValue":a[0]||(a[0]=a=>e.address=a),label:"Shipping Address",placeholder:"Enter your address",required:"",outlined:"",class:"mt-4"},null,8,["modelValue"]),(0,t.bF)(F,{modelValue:e.email,"onUpdate:modelValue":a[1]||(a[1]=a=>e.email=a),label:"Email Address",placeholder:"Enter your email",required:"",outlined:"",type:"email",class:"mb-4"},null,8,["modelValue"]),(0,t.bF)(C,{modelValue:e.selectedPaymentMethod,"onUpdate:modelValue":a[2]||(a[2]=a=>e.selectedPaymentMethod=a),row:""},{default:(0,t.k6)((()=>[(0,t.bF)(h,{label:"Credit Card",value:"credit-card"}),(0,t.bF)(h,{label:"PayPal",value:"paypal"}),(0,t.bF)(h,{label:"Bank Transfer",value:"bank-transfer"})])),_:1},8,["modelValue"]),(0,t.bF)(x,null,{default:(0,t.k6)((()=>[(0,t.bF)(p,{loading:e.loading,class:"text-none mb-4",size:"x-large",variant:"flat",block:"",color:"primary",disabled:!e.cart.length||!e.address||!e.email||!e.selectedPaymentMethod||e.loading,"prepend-icon":"mdi-credit-card-outline",onClick:e.checkout},{default:(0,t.k6)((()=>[(0,t.eW)(" Checkout ")])),_:1},8,["loading","disabled","onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var c=l(8757),s=l(459),m=l(6685),v=(0,t.pM)({name:"CartDetails",setup(){const e=(0,m.KR)(!1),a=(0,m.KR)([]),l=(0,m.KR)(""),d=(0,m.KR)(""),u=(0,m.KR)("credit-card"),n=()=>{const e=localStorage.getItem("cart");e&&(a.value=JSON.parse(e))},i=()=>{localStorage.setItem("cart",JSON.stringify(a.value))},r=e=>{const l=a.value.find((a=>a.id===e.id));l&&(l.quantity+=1,i())},o=e=>{const l=a.value.find((a=>a.id===e.id));l&&l.quantity>1?(l.quantity-=1,i()):v(e)},v=e=>{a.value=a.value.filter((a=>a.id!==e.id)),i()},b=(0,t.EW)((()=>a.value.reduce(((e,a)=>e+a.price*a.quantity),0))),k=()=>{if(e.value=!0,!l.value||!d.value||!u.value)return void alert("Please fill in all the fields and select a payment method.");const t={email:d.value,address:l.value,items:a.value.map((e=>({product_id:e.id,quantity:e.quantity})))};console.log(t),s.A.post("/orders",t).then((a=>{const l=a.data.order;c.A.push({path:"/order-success",query:{orderId:l.id,email:l.email,totalPrice:l.amount}}),alert(a.data.message),e.value=!1})).catch((a=>{alert("There was an issue with placing your order."),console.error(a),e.value=!1}))};return n(),{cart:a,totalPrice:b,address:l,email:d,selectedPaymentMethod:u,incrementQuantity:r,decrementQuantity:o,removeItem:v,checkout:k,loading:e}}}),b=l(6252);const k=(0,b.A)(v,[["render",o],["__scopeId","data-v-403322db"]]);var f=k}}]);